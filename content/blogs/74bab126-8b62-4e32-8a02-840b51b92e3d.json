{
  "id": "74bab126-8b62-4e32-8a02-840b51b92e3d",
  "slug": "updates-22nd-8dfa",
  "title": "Updates 22nd.",
  "content": "<div class=\"editor-content-wrapper\" style=\"padding: 1em; min-height: 100%;\"><style>\n    /* Responsive image styles - WYSIWYG for mobile */\n    @media screen and (max-width: 768px) {\n      /* Floated images stack on mobile - no text wrap */\n      .image-float-left,\n      .image-float-right,\n      img[style*=\"float: left\"],\n      img[style*=\"float: right\"] {\n        float: none !important;\n        clear: both !important;\n        display: block !important;\n        margin: 1em auto !important;\n        max-width: 100% !important;\n        /* On mobile, allow width to shrink but keep height proportional to width */\n        width: auto !important;\n        height: auto !important;\n      }\n\n      /* Floated image containers (with captions) also stack */\n      .image-float-container,\n      .image-float-container-left,\n      .image-float-container-right,\n      p[style*=\"float: left\"],\n      p[style*=\"float: right\"] {\n        float: none !important;\n        clear: both !important;\n        max-width: 100% !important;\n        margin: 1em 0 !important;\n      }\n\n      /* Clear floats properly */\n      .editor-content-wrapper::after {\n        content: \"\";\n        display: table;\n        clear: both;\n      }\n    }\n\n    /* Clearfix for floated content */\n    .editor-content-wrapper::after {\n      content: \"\";\n      display: table;\n      clear: both;\n    }\n  </style><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0px;\"></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><b style=\"font-weight: bold;\"><strong style=\"line-height: 24px; color: lab(2.75381 0 0); white-space: pre-wrap; font-weight: bold;\">New Update pushed Today:</strong></b></p><p style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> </span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">IMAGE placeholder loading: </span><a href=\"https://www.loom.com/share/a73e804b9e5a4e26af50dad14feadb32\" target=\"_blank\" rel=\"noopener\" style=\"color: rgb(0, 102, 204); text-decoration: underline;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">https://www.loom.com/share/a73e804b9e5a4e26af50dad14feadb32</span></a></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">PERSIST IMAGES USING S3 and CDN: </span><a href=\"https://www.loom.com/share/15e6d88e717d4df7812c7ab9463bc22e\" target=\"_blank\" rel=\"noopener\" style=\"color: rgb(0, 102, 204); text-decoration: underline;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">https://www.loom.com/share/15e6d88e717d4df7812c7ab9463bc22e</span></a></p><p style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> </span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">⏺ Async Image Generation with Placeholder + S3 Persistence</span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> Problem</span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> When users asked the AI agent to generate images (via DALL-E 3), the entire SSE stream blocked for</span><br><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> 10-30s while the image generated. Users saw nothing during this time. Additionally, DALL-E URLs are</span><br><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> temporary (~1 hour) and would break after expiry.</span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> Solution</span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> Return a placeholder immediately, continue streaming text, replace the placeholder with the real image</span><br><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> once ready, and persist images to S3 via CloudFront CDN.</span></p><p style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> </span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">SSE Event Flow</span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> start → content(s) → done{pending_images:N} → image_ready{url} → stream_end</span><br><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> → image_failed{error} ↗</span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> End-to-End Flow</span></p><ol style=\"margin: 1em 0px; padding-left: 40px; list-style-type: decimal; list-style-position: outside;\"><li value=\"1\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">User asks for content with images</span></li><li value=\"2\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">Agent streams text with </span><br><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> — returns instantly</span></li><li value=\"3\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">Editor renders GeneratingImageNode (shimmer + progress bar) via importDOM priority</span></li><li value=\"4\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">Agent sends done, user sees full article with placeholder(s)</span></li><li value=\"5\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">Background thread finishes DALL-E generation + S3 upload (10-30s)</span></li><li value=\"6\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">Agent sends image_ready with CDN URL</span></li><li value=\"7\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">Editor swaps GeneratingImageNode → ImageNode seamlessly</span></li><li value=\"8\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0.5em 0px; display: list-item;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">Agent sends stream_end, connection closes</span></li></ol><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> S3 Upload Path</span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> {user_id}/ai-images/{uuid}.{ext}</span></p><p style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\"> </span></p><p dir=\"ltr\" style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"><a href=\"https://craxinno.atlassian.net/browse/CE-1181\" target=\"_blank\" rel=\"noopener\" style=\"color: rgb(0, 102, 204); text-decoration: underline;\"><span style=\"color: lab(2.75381 0 0); white-space: pre-wrap; line-height: 1.5;\">https://craxinno.atlassian.net/browse/CE-1181</span></a></p><p style=\"line-height: 1.5; font-family: Inter, sans-serif; font-size: 16px; margin: 1em 0px 0px;\"></p></div>",
  "excerpt": "/* Responsive image styles - WYSIWYG for mobile */ @media screen and (max-width: 768px) { /* Floated images stack on mobile - no text wrap */...",
  "tags": [],
  "coverImage": "",
  "status": "published",
  "createdAt": "2026-02-22T10:58:10.865Z",
  "updatedAt": "2026-02-22T10:58:10.865Z"
}